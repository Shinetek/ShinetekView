{"version":3,"sources":["fy4_datainfo_module.js"],"names":[],"mappings":"AAAA;;;AAGA,CAAC,YAAY;AACT;;AACA,QAAI,KAAK,QAAQ,IAAR,CAAT;AACA,QAAI,SAAS,QAAQ,QAAR,CAAb;AACA,QAAI,IAAI,QAAQ,QAAR,CAAR;;AAEA;;;;AAIA,aAAS,YAAT,CAAsB,OAAtB,EAA+B;;AAE3B,YAAI,gBAAgB,EAApB;AACA,YAAI,iBAAiB,EAArB;AACA,YAAI,eAAe,EAAnB;AACA,YAAI,eAAe,EAAnB;AACA,aAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,QAAQ,MAA5B,EAAoC,GAApC,EAAyC;AACrC,gBAAI,YAAY,QAAQ,CAAR,EAAW,SAA3B;AACA,gBAAI,UAAU,QAAQ,CAAR,EAAW,OAAzB;AACA;AACA,gBAAI,cAAc,OAAO,GAAP,CAAW,SAAX,EAAsB,gBAAtB,CAAlB;AACA,gBAAI,YAAY,OAAO,GAAP,CAAW,OAAX,EAAoB,gBAApB,CAAhB;AACA,gBAAI,eAAe,SAAnB;AACA,gBAAI,SAAS,CAAb;AACA;;;;AAIA,gBAAI,IAAI,CAAJ,KAAU,CAAd,EAAiB;AACb,yBAAS,CAAT;AACH;AACD;AACA,mBAAO,YAAY,QAAZ,CAAqB,SAArB,CAAP,EAAwC;AACpC,oBAAI,WAAW,YAAY,MAAZ,CAAmB,MAAnB,CAAf;AACA,oBAAI,YAAY,YAAY,MAAZ,CAAmB,SAAnB,CAAhB;AACA,oBAAI,UAAU,YAAY,MAAZ,CAAmB,YAAnB,CAAd;AACA,oBAAI,aAAa,YAAY,MAAZ,CAAmB,kBAAnB,CAAjB;AACA,oBAAI,WAAW,EAAC,SAAS,QAAV,EAAoB,WAAW,YAA/B,EAA6C,QAAQ,MAArD,EAAf;AACA,oBAAI,YAAY,EAAC,SAAS,SAAV,EAAqB,WAAW,YAAhC,EAA8C,QAAQ,MAAtD,EAAhB;AACA,oBAAI,UAAU,EAAC,SAAS,OAAV,EAAmB,WAAW,YAA9B,EAA4C,QAAQ,MAApD,EAAd;AACA,oBAAI,aAAa,EAAC,SAAS,UAAV,EAAsB,WAAW,YAAjC,EAA+C,QAAQ,MAAvD,EAAjB;AACA,8BAAc,IAAd,CAAmB,QAAnB;AACA,+BAAe,IAAf,CAAoB,SAApB;AACA,6BAAa,IAAb,CAAkB,OAAlB;AACA,6BAAa,IAAb,CAAkB,UAAlB;AACA,8BAAc,YAAY,GAAZ,CAAgB,GAAhB,EAAqB,QAArB,CAAd;AACH;AACJ;AACD,wBAAgB,EAAE,MAAF,CAAS,aAAT,EAAwB,SAAxB,CAAhB;AACA,yBAAiB,EAAE,MAAF,CAAS,cAAT,EAAyB,SAAzB,CAAjB;AACA,uBAAe,EAAE,MAAF,CAAS,YAAT,EAAuB,SAAvB,CAAf;AACA,uBAAe,EAAE,MAAF,CAAS,YAAT,EAAuB,SAAvB,CAAf;AACA,eAAO;AACH,4BAAgB,aADb;AAEH,6BAAiB,cAFd;AAGH,2BAAe,YAHZ;AAIH,8BAAkB;AAJf,SAAP;AAMH;;AAED,YAAQ,WAAR,GAAsB,YAAtB;AACH,CA7DD","file":"fy4_datainfo_module-compiled.js","sourcesContent":["/**\r\n * Created by lenovo on 2017/10/27.\r\n */\r\n(function () {\r\n    'use strict';\r\n    var fs = require(\"fs\");\r\n    var moment = require(\"moment\");\r\n    var _ = require(\"lodash\");\r\n\r\n    /**\r\n     * 获取数据字段 根据 长度\r\n     * @private\r\n     */\r\n    function _getDataInfo(results) {\r\n\r\n        var dataList_Year = [];\r\n        var dataList_Month = [];\r\n        var dataList_Day = [];\r\n        var dataList_Min = [];\r\n        for (var i = 0; i < results.length; i++) {\r\n            var TimeBegin = results[i].StartTime;\r\n            var TimeEnd = results[i].EndTime;\r\n            //console.log(TimeBegin + \":\" + TimeEnd);\r\n            var BeginMoment = moment.utc(TimeBegin, \"YYYYMMDDHHmmss\");\r\n            var EndMoment = moment.utc(TimeEnd, \"YYYYMMDDHHmmss\");\r\n            var BeginTimeStr = TimeBegin;\r\n            var IsFlag = 0;\r\n            /* if (results[i].ObserveType === 'DISK') {\r\n             IsFlag = 1;\r\n             }*/\r\n\r\n            if (i % 2 === 1) {\r\n                IsFlag = 1;\r\n            }\r\n            // console.log(\"i%2:\" + i + \"=\" + i % 2);\r\n            while (BeginMoment.isBefore(EndMoment)) {\r\n                var timeYear = BeginMoment.format(\"YYYY\");\r\n                var timeMonth = BeginMoment.format(\"YYYY-MM\");\r\n                var timeDay = BeginMoment.format(\"YYYY-MM-DD\");\r\n                var timeMinute = BeginMoment.format(\"YYYY-MM-DD HH:mm\");\r\n                var YearJson = {TimeStr: timeYear, TimeBegin: BeginTimeStr, IsFlag: IsFlag};\r\n                var MonthJson = {TimeStr: timeMonth, TimeBegin: BeginTimeStr, IsFlag: IsFlag};\r\n                var DayJson = {TimeStr: timeDay, TimeBegin: BeginTimeStr, IsFlag: IsFlag};\r\n                var MinuteJson = {TimeStr: timeMinute, TimeBegin: BeginTimeStr, IsFlag: IsFlag};\r\n                dataList_Year.push(YearJson);\r\n                dataList_Month.push(MonthJson);\r\n                dataList_Day.push(DayJson);\r\n                dataList_Min.push(MinuteJson);\r\n                BeginMoment = BeginMoment.add(1.0, 'minute');\r\n            }\r\n        }\r\n        dataList_Year = _.uniqBy(dataList_Year, \"TimeStr\");\r\n        dataList_Month = _.uniqBy(dataList_Month, \"TimeStr\");\r\n        dataList_Day = _.uniqBy(dataList_Day, \"TimeStr\");\r\n        dataList_Min = _.uniqBy(dataList_Min, \"TimeStr\");\r\n        return {\r\n            \"DataInfoYear\": dataList_Year,\r\n            \"DataInfoMonth\": dataList_Month,\r\n            \"DataInfoDay\": dataList_Day,\r\n            \"DataInfoMinute\": dataList_Min\r\n        };\r\n    }\r\n\r\n    exports.getDataInfo = _getDataInfo;\r\n})();"]}